
@import url('https://fonts.googleapis.com/css2?family=La+Belle+Aurore&display=swap');
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@600&display=swap');
:root{--ink:#2b2116;--paper:#e8d8b5;--paper2:#d9c79a}
*{box-sizing:border-box}html,body{height:100%;margin:0}
body{font-family:'La Belle Aurore',cursive;color:var(--ink);
background:radial-gradient(ellipse at center,var(--paper) 0%,var(--paper2) 100%);background-attachment:fixed}
.wrap{max-width:900px;margin:0 auto;padding:20px}
.card{background:rgba(255,255,255,.28);border:1px solid rgba(0,0,0,.12);padding:22px;
box-shadow:0 20px 40px rgba(0,0,0,.18), inset 0 0 140px rgba(255,255,255,.35);border-radius:18px;backdrop-filter: blur(1.5px)}
.header{display:flex;gap:16px;align-items:center;margin-bottom:10px}
.header img{width:82px;height:82px;object-fit:contain;opacity:.85;filter:sepia(40%)}
h1{margin:0;font-size:32px;letter-spacing:.3px}
.step{margin:2px 0 6px;color:#5a3b21;font-size:18px}
hr{border:none;border-top:1px dashed rgba(0,0,0,.25);margin:10px 0 14px}
p{line-height:1.9;font-size:21px;white-space:pre-wrap}
.lock{padding:14px;border:1px dashed #8d6a46;border-radius:12px;background:#f2e7c8;color:#4a3a24;margin-top:8px;font-size:18px}
.tools{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 0}
button{padding:10px 16px;border-radius:12px;border:1px solid #8d6a46;background:linear-gradient(#f2e5c8,#e6d6b0);
color:#402c1a;font-size:16px;cursor:pointer}
button[disabled]{opacity:.45;cursor:not-allowed}
.small{font-size:14px;color:#6b5236}
.footer{margin-top:10px;color:#6b5236;font-size:14px;display:flex;justify-content:space-between;align-items:center}
.videoWrap{position:relative;display:none;margin-top:12px}
video{width:100%;border-radius:12px;border:1px solid rgba(0,0,0,.1)}
.scanHint{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);background:rgba(255,255,255,.6);
padding:6px 10px;border-radius:8px;font-size:16px}
.uploadWrap{display:none;margin-top:12px;border:1px dashed #8d6a46;border-radius:12px;padding:12px;background:#f6edd2}
.uploadWrap input{display:block;margin-top:8px}
.codegate{margin-top:12px;display:none;background:#fff4d4;border:1px solid #e6d6b0;border-radius:12px;padding:12px}
.codegate input{padding:10px;font-size:16px;border-radius:10px;border:1px solid #bba37c;width:200px}
.codegate button{margin-left:8px}
/* Crossword */
.cw{margin-top:14px;display:none}
.grid{display:grid;grid-template-columns:repeat(5,44px);gap:6px;margin-top:8px}
.grid input{width:44px;height:44px;text-align:center;font-size:20px;border-radius:8px;border:1px solid #bba37c;background:#fffaf0}
.grid input.ok{background:#e8f7df;border-color:#8dc27a}
.grid input.hl{background:#ffeaa7;border-color:#e0b359}
.clues{margin-top:10px;font-size:16px;color:#4a3a24}
/* Caesar step */
.caesar{display:none;margin-top:12px;padding:16px;border:1px dashed #8d6a46;border-radius:12px;background:#f9f0d9}
.cipher{font-family:'IBM Plex Mono',monospace;font-weight:600;font-size:34px;letter-spacing:6px;text-align:center;margin:8px auto 12px auto;padding:14px 10px;border:1px solid #c8b48c;border-radius:10px;background:#fffaf0;box-shadow:inset 0 0 20px rgba(0,0,0,.06),0 6px 14px rgba(0,0,0,.06)}
.caesar input{padding:10px;font-size:18px;border-radius:10px;border:1px solid #bba37c;width:100%;max-width:520px;display:block;margin:0 auto}
.caesar button{display:block;margin:10px auto 0 auto}
/* Map viewer */
.mapWrap{display:none;margin-top:12px}
.mapFrame{position:relative;overflow:hidden;border:1px dashed #8d6a46;border-radius:12px;background:#fffaf0;box-shadow:inset 0 0 24px rgba(0,0,0,.06)}
.mapInner{position:relative;transform-origin:center center;transition:transform .25s ease, filter .25s ease}
.mapInner.zoom{transform:scale(1.8)}
.mapInner img{width:100%;height:auto;display:block;user-select:none;-webkit-user-drag:none;pointer-events:none}
.flashlight{--x:50%;--y:50%;--r:120px;mask:radial-gradient(circle var(--r) at var(--x) var(--y), rgba(0,0,0,1) 0%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 61%);-webkit-mask:radial-gradient(circle var(--r) at var(--x) var(--y), rgba(0,0,0,1) 0%, rgba(0,0,0,0) 61%)}
.mapHint{font-size:14px;color:#6b5236;margin-top:6px;text-align:center}
